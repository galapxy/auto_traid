{"filter":false,"title":"buy.rb","tooltip":"/buy.rb","undoManager":{"mark":16,"position":16,"stack":[[{"start":{"row":0,"column":0},"end":{"row":0,"column":15},"action":"insert","lines":["require './key'"],"id":1}],[{"start":{"row":0,"column":15},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":1,"column":0},"end":{"row":28,"column":18},"action":"insert","lines":["require \"net/http\"","require \"uri\"","require \"openssl\"","","key = \"{{ YOUR API KEY }}\"","secret = \"{{ YOUR API SECRET }}\"","","timestamp = Time.now.to_i.to_s","method = \"POST\"","uri = URI.parse(\"https://api.bitflyer.jp\")","uri.path = \"/v1/me/sendchildorder\"","body = ''","","text = timestamp + method + uri.request_uri + body","sign = OpenSSL::HMAC.hexdigest(OpenSSL::Digest.new(\"sha256\"), secret, text)","","options = Net::HTTP::Post.new(uri.request_uri, initheader = {","  \"ACCESS-KEY\" => key,","  \"ACCESS-TIMESTAMP\" => timestamp,","  \"ACCESS-SIGN\" => sign,","  \"Content-Type\" => \"application/json\"","});","options.body = body","","https = Net::HTTP.new(uri.host, uri.port)","https.use_ssl = true","response = https.request(options)","puts response.body"],"id":3}],[{"start":{"row":5,"column":6},"end":{"row":5,"column":26},"action":"remove","lines":["\"{{ YOUR API KEY }}\""],"id":4}],[{"start":{"row":6,"column":10},"end":{"row":6,"column":32},"action":"remove","lines":["{{ YOUR API SECRET }}\""],"id":5},{"start":{"row":6,"column":9},"end":{"row":6,"column":10},"action":"remove","lines":["\""]}],[{"start":{"row":5,"column":6},"end":{"row":5,"column":13},"action":"insert","lines":["API_KEY"],"id":6}],[{"start":{"row":6,"column":9},"end":{"row":6,"column":19},"action":"insert","lines":["API_SECRET"],"id":7}],[{"start":{"row":12,"column":8},"end":{"row":20,"column":1},"action":"insert","lines":["{","  \"product_code\": \"BTC_JPY\",","  \"child_order_type\": \"LIMIT\",","  \"side\": \"BUY\",","  \"price\": 30000,","  \"size\": 0.1,","  \"minute_to_expire\": 10000,","  \"time_in_force\": \"GTC\"","}"],"id":8}],[{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":["3"],"id":9}],[{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"insert","lines":["5"],"id":10}],[{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":["5"],"id":11}],[{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"insert","lines":["7"],"id":12}],[{"start":{"row":16,"column":16},"end":{"row":16,"column":17},"action":"insert","lines":["0"],"id":13}],[{"start":{"row":17,"column":12},"end":{"row":17,"column":13},"action":"insert","lines":["0"],"id":14},{"start":{"row":17,"column":13},"end":{"row":17,"column":14},"action":"insert","lines":["0"]}],[{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":["7"],"id":15}],[{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"insert","lines":["8"],"id":16}],[{"start":{"row":0,"column":0},"end":{"row":36,"column":18},"action":"remove","lines":["require './key'","require \"net/http\"","require \"uri\"","require \"openssl\"","","key = API_KEY","secret = API_SECRET","","timestamp = Time.now.to_i.to_s","method = \"POST\"","uri = URI.parse(\"https://api.bitflyer.jp\")","uri.path = \"/v1/me/sendchildorder\"","body = '{","  \"product_code\": \"BTC_JPY\",","  \"child_order_type\": \"LIMIT\",","  \"side\": \"BUY\",","  \"price\": 800000,","  \"size\": 0.001,","  \"minute_to_expire\": 10000,","  \"time_in_force\": \"GTC\"","}'","","text = timestamp + method + uri.request_uri + body","sign = OpenSSL::HMAC.hexdigest(OpenSSL::Digest.new(\"sha256\"), secret, text)","","options = Net::HTTP::Post.new(uri.request_uri, initheader = {","  \"ACCESS-KEY\" => key,","  \"ACCESS-TIMESTAMP\" => timestamp,","  \"ACCESS-SIGN\" => sign,","  \"Content-Type\" => \"application/json\"","});","options.body = body","","https = Net::HTTP.new(uri.host, uri.port)","https.use_ssl = true","response = https.request(options)","puts response.body"],"id":18}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":14,"mode":"ace/mode/ruby"}},"timestamp":1527989900527,"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709"}